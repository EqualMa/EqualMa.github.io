<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="The LoopThe Loop is the default mechanism WordPress uses for outputting posts through a theme’s template files. How many posts are retrieved is determined by the number of posts to show per page defin">
<meta property="og:type" content="article">
<meta property="og:title" content="Equal&#39;s">
<meta property="og:url" content="https://equalma.github.io/wordpress/develop/theme/Basics/06 The Loop/index.html">
<meta property="og:site_name" content="Equal&#39;s">
<meta property="og:description" content="The LoopThe Loop is the default mechanism WordPress uses for outputting posts through a theme’s template files. How many posts are retrieved is determined by the number of posts to show per page defin">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-12-24T11:51:03.222Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Equal&#39;s">
<meta name="twitter:description" content="The LoopThe Loop is the default mechanism WordPress uses for outputting posts through a theme’s template files. How many posts are retrieved is determined by the number of posts to show per page defin">






  <link rel="canonical" href="https://equalma.github.io/wordpress/develop/theme/Basics/06 The Loop/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title> | Equal's</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Equal's</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Coding Blog</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://equalma.github.io/wordpress/develop/theme/Basics/06 The Loop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Equal Ma">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Equal's">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-12-24 18:40:28 / 修改时间：19:51:03" itemprop="dateCreated datePublished" datetime="2017-12-24T18:40:28+08:00">2017-12-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="The-Loop"><a href="#The-Loop" class="headerlink" title="The Loop"></a>The Loop</h1><p>The Loop is the default mechanism WordPress uses for outputting posts through a theme’s template files. How many posts are retrieved is determined by the number of posts to show per page defined in the Reading settings.</p>
<p>The Loop <strong>loops through each post</strong> retrieved for the current page <strong>one at a time</strong> and <strong>performs the action</strong> specified in your theme <strong>for each post</strong> (the action is to process HTML or PHP code written in The Loop).</p>
<p>You can use the Loop for a number of different things, for example to:</p>
<ul>
<li>display post titles and excerpts on your blog’s homepage;</li>
<li>display the content and comments on a single post;</li>
<li>display the content on an individual page using template tags; and</li>
<li>display data from Custom Post Types and Custom Fields.</li>
</ul>
<h3 id="The-Basic-Loop"><a href="#The-Basic-Loop" class="headerlink" title="The Basic Loop"></a>The Basic Loop</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if ( have_posts() ) : ?&gt;</span><br><span class="line">    &lt;?php while ( have_posts() ) : the_post(); ?&gt;</span><br><span class="line">        ... Display post content</span><br><span class="line">    &lt;?php endwhile; ?&gt;</span><br><span class="line">&lt;?php endif; ?&gt;</span><br></pre></td></tr></table></figure>
<p>This loop says that when there are posts, loop through and <code>Display post content</code> for each post.</p>
<h2 id="Using-The-Loop"><a href="#Using-The-Loop" class="headerlink" title="Using The Loop"></a>Using The Loop</h2><p>The Loop should be placed in <code>index.php</code>, and in any other templates which are used to display post information. </p>
<p>An extremely simple <code>index.php</code> file would look like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    get_header();</span><br><span class="line">    if ( have_posts() ) : while ( have_posts() ) : the_post();</span><br><span class="line">        the_content();</span><br><span class="line">    endwhile;</span><br><span class="line">    else :</span><br><span class="line">        _e( &apos;Sorry, no posts matched your criteria.&apos;, &apos;textdomain&apos; );</span><br><span class="line">    endif;</span><br><span class="line">    get_sidebar();</span><br><span class="line">    get_footer(); </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="What-the-Loop-Can-Display"><a href="#What-the-Loop-Can-Display" class="headerlink" title="What the Loop Can Display"></a>What the Loop Can Display</h2><blockquote>
<p> The latest version of the following list can be found <a href="https://developer.wordpress.org/themes/basics/the-loop/#what-the-loop-can-display" target="_blank" rel="noopener">here</a></p>
</blockquote>
<p>The Loop can display a number of different elements for each post.</p>
<p>For example, some common <strong>template tags</strong> used in many themes are:</p>
<ul>
<li><code>next_post_link()</code> – a link to the post published chronologically <em>after</em> the current post</li>
<li><code>previous_post_link()</code> – a link to the post published chronologically <em>before</em> the current post</li>
<li><code>the_category()</code> – the category or categories associated with the post or page being viewed</li>
<li><code>the_author()</code> – the author of the post or page</li>
<li><code>the_content()</code> – the main content for a post or page</li>
<li><code>the_excerpt()</code> – the first 55 words of a post’s main content followed by an ellipsis (…) or read more link that goes to the full post. You may also use the “Excerpt” field of a post to customize the length of a particular excerpt.</li>
<li><code>the_ID()</code> – the ID for the post or page</li>
<li><code>the_meta()</code> – the custom fields associated with the post or page</li>
<li><code>the_shortlink()</code> – a link to the page or post using the url of the site and the ID of the post or page</li>
<li><code>the_tags()</code> – the tag or tags associated with the post</li>
<li><code>the_title()</code> – the title of the post or page</li>
<li><code>the_time()</code> – the time or date for the post or page. This can be customized using standard php date function formatting.</li>
</ul>
<p>You can also use <strong>conditional tags</strong>, such as:</p>
<ul>
<li><code>is_home()</code> – Returns true if the current page is the homepage</li>
<li><code>is_admin()</code> – Returns true if inside Administration Screen, false otherwise</li>
<li><code>is_single()</code> – Returns true if the page is currently displaying a single post</li>
<li><code>is_page()</code> – Returns true if the page is currently displaying a single page</li>
<li><code>is_page_template()</code> – Can be used to determine if a page is using a specific template, for example: <code>is_page_template(&#39;about-page.php&#39;)</code></li>
<li><code>is_category()</code> – Returns true if page or post has the specified category, for example: <code>is_category(&#39;news&#39;)</code></li>
<li><code>is_tag()</code> – Returns true if a page or post has the specified tag</li>
<li><code>is_author()</code> – Returns true if inside author’s archive page</li>
<li><code>is_search()</code> – Returns true if the current page is a search results page</li>
<li><code>is_404()</code> – Returns true if the current page does not exist</li>
<li><code>has_excerpt()</code> – Returns true if the post or page has an excerpt</li>
</ul>
<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><h3 id="Basic-Examples"><a href="#Basic-Examples" class="headerlink" title="Basic Examples"></a>Basic Examples</h3><h4 id="Blog-Archive"><a href="#Blog-Archive" class="headerlink" title="Blog Archive"></a>Blog Archive</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;h2&gt;&lt;?php the_title(); ?&gt;&lt;/h2&gt;</span><br><span class="line">    &lt;?php the_post_thumbnail(); ?&gt;</span><br><span class="line">    &lt;?php the_excerpt(); ?&gt;</span><br><span class="line">&lt;?php endwhile; else: ?&gt;</span><br><span class="line">    &lt;?php _e( &apos;Sorry, no posts matched your criteria.&apos;, &apos;textdomain&apos; ); ?&gt;</span><br><span class="line">&lt;?php endif; ?&gt;</span><br></pre></td></tr></table></figure>
<p>The simple loop checks if there are any posts.</p>
<ul>
<li>If there are, outputs each post’s title, thumbnail, and excerpt.</li>
<li>If no posts exists, it displays the message in parentheses.</li>
</ul>
<h4 id="Individual-Post"><a href="#Individual-Post" class="headerlink" title="Individual Post"></a>Individual Post</h4><p>In WordPress, each post has its own page, which displays the relevant information for that post. Template tags allow you to customize which information you want to display.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?&gt;</span><br><span class="line"> </span><br><span class="line">&lt;h1&gt;&lt;?php the_title(); ?&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;?php the_content(); ?&gt;</span><br><span class="line">&lt;?php endwhile; else: ?&gt;</span><br><span class="line">    &lt;?php _e( &apos;Sorry, no pages matched your criteria.&apos;, &apos;textdomain&apos; ); ?&gt;</span><br><span class="line">&lt;?php endif; ?&gt;</span><br></pre></td></tr></table></figure>
<p>The loop outputs the post’s title and content. You could use this example in a post or page template file to display the most basic information about the post. You could also customize this template to add more data to the post, for example <code>the category</code>.</p>
<h3 id="Intermediate-Examples"><a href="#Intermediate-Examples" class="headerlink" title="Intermediate Examples"></a>Intermediate Examples</h3><h4 id="Style-Posts-from-Some-Categories-Differently"><a href="#Style-Posts-from-Some-Categories-Differently" class="headerlink" title="Style Posts from Some Categories Differently"></a>Style Posts from Some Categories Differently</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php // Start the Loop.?&gt;</span><br><span class="line">&lt;?php if ( have_posts() ) : while ( have_posts() ) : the_post(); </span><br><span class="line">/* * See if the current post is in category 3. </span><br><span class="line">   * If it is, the div is given the CSS class &quot;post-category-three&quot;.</span><br><span class="line">   * Otherwise, the div is given the CSS class &quot;post&quot;.</span><br><span class="line">*/</span><br><span class="line">if ( in_category( 3 ) ) : ?&gt;</span><br><span class="line"> </span><br><span class="line">&lt;div class=&quot;post-category-three&quot;&gt;</span><br><span class="line">    &lt;?php else : ?&gt;</span><br><span class="line">&lt;div class=&quot;post&quot;&gt;</span><br><span class="line">    &lt;?php endif; ?&gt;</span><br><span class="line"> </span><br><span class="line">        // Display the post&apos;s title.</span><br><span class="line">        &lt;h2&gt;&lt;?php the_title() ?&gt;&lt;/h2&gt;</span><br><span class="line"> </span><br><span class="line">        // Display a link to other posts by this posts author.</span><br><span class="line">        &lt;small&gt;&lt;?php _e( &apos;Posted by &apos;, &apos;textdomain&apos; ); the_author_posts_link() ?&gt;&lt;/small&gt;</span><br><span class="line"> </span><br><span class="line">        // Display the post&apos;s content in a div.</span><br><span class="line">        &lt;div class=&quot;entry&quot;&gt;</span><br><span class="line">            &lt;?php the_content() ?&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">        // Display a comma separated list of the post&apos;s categories.</span><br><span class="line">        &lt;?php _e( &apos;Posted in &apos;, &apos;textdomain&apos; ); the_category( &apos;, &apos; ); ?&gt;</span><br><span class="line"> </span><br><span class="line">    // closes the first div box with the class of &quot;post&quot; or &quot;post-cat-three&quot;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">// Stop the Loop, but allow for a &quot;if not posts&quot; situation</span><br><span class="line">&lt;?php endwhile; else :</span><br><span class="line">/*</span><br><span class="line"> * The very first &quot;if&quot; tested to see if there were any posts to</span><br><span class="line"> * display. This &quot;else&quot; part tells what do if there weren&apos;t any.</span><br><span class="line"> */</span><br><span class="line">_e( &apos;Sorry, no posts matched your criteria.&apos;, &apos;textdomain&apos; );</span><br><span class="line"> // Completely stop the Loop.</span><br><span class="line"> endif;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Multiple-Loops"><a href="#Multiple-Loops" class="headerlink" title="Multiple Loops"></a>Multiple Loops</h2><h3 id="Use-one-queries-in-multiple-loops"><a href="#Use-one-queries-in-multiple-loops" class="headerlink" title="Use one queries in multiple loops"></a>Use one queries in multiple loops</h3><p>You can use <code>rewind_posts()</code> to loop through the same query a second time. This is useful if you want to display the same query twice in different locations on a page.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// Start the main loop</span><br><span class="line">&lt;?php</span><br><span class="line">    if ( have_posts() ) : while ( have_posts() ) : the_post();</span><br><span class="line">        the_title();</span><br><span class="line">    endwhile;</span><br><span class="line">    endif;</span><br><span class="line"> </span><br><span class="line">    // Use rewind_posts() to use the query a second time.</span><br><span class="line">    rewind_posts();</span><br><span class="line"> </span><br><span class="line">    // Start a new loop</span><br><span class="line">    while ( have_posts() ) : the_post();</span><br><span class="line">        the_content();</span><br><span class="line">    endwhile;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Creating-secondary-queries-and-loops"><a href="#Creating-secondary-queries-and-loops" class="headerlink" title="Creating secondary queries and loops"></a>Creating secondary queries and loops</h3><p>You will often want to create a secondary query to display different content on the template. For example, you might want to display two groups of posts on the same page, but do different things to each group.</p>
<p>A common example of this is displaying a single post with a list of posts from the same category below the single post.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    // The main query.</span><br><span class="line">    if ( have_posts() ) : while ( have_posts() ) : the_post();</span><br><span class="line">        the_title();                                                             </span><br><span class="line">        the_content();                                                          </span><br><span class="line">    endwhile;                                                                   </span><br><span class="line">    else :                                                                      </span><br><span class="line">        // When no posts are found, output this text.                           </span><br><span class="line">        _e( &apos;Sorry, no posts matched your criteria.&apos; );                         </span><br><span class="line">    endif;                                                                       </span><br><span class="line">    wp_reset_postdata();                                                        </span><br><span class="line">                                                                                 </span><br><span class="line">    /*                                                                          </span><br><span class="line">     * The secondary query. Note that you can use any category name here. In our example,</span><br><span class="line">     * we use &quot;example-category&quot;.                                               </span><br><span class="line">     */                                                                        </span><br><span class="line">    $secondary_query = new WP_Query( &apos;category_name=example-category&apos; );        </span><br><span class="line">                                                                                 </span><br><span class="line">    // The second loop. if ( $secondary_query-&gt;have_posts() ) </span><br><span class="line">    echo &apos;&lt;ul&gt;&apos;;</span><br><span class="line">    while ( $secondary_query-&gt;have_posts() ) :</span><br><span class="line">        $secondary_query-&gt;the_post();</span><br><span class="line">        echo &apos;&lt;li&gt;&apos; . get_the_title() . &apos;&lt;/li&gt;&apos;;</span><br><span class="line">    endwhile;</span><br><span class="line">    echo &apos;&lt;/ul&gt;&apos;;</span><br><span class="line">    endif;</span><br><span class="line">wp_reset_postdata();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>As you can see in the example above, we first display a regular loop. Then we define a new variable that uses <code>WP_Query</code> to query a specific category; in our case, we chose the <code>example-category</code> slug.</p>
<p>Note that the regular loop in the example above has one difference: it calls <code>wp_reset_postdata()</code> to reset the post data. Before you can use a second loop, you need to reset the post data. There are two ways to do this:</p>
<ol>
<li>By using the <code>rewind_posts()</code> function; or</li>
<li>By creating new query objects.</li>
</ol>
<h3 id="Resetting-multiple-loops"><a href="#Resetting-multiple-loops" class="headerlink" title="Resetting multiple loops"></a>Resetting multiple loops</h3><p>It’s important when using multiple loops in a template that you reset them.</p>
<p>Not doing so can lead to unexpected results due to how data is stored and used within the global <code>$post</code> variable.</p>
<p>There are three main ways to reset the loop depending on the way they are called.</p>
<ul>
<li><code>wp_reset_postdata()</code></li>
<li><code>wp_reset_query()</code></li>
<li><code>rewind_posts()</code></li>
</ul>
<h4 id="Using-wp-reset-postdata"><a href="#Using-wp-reset-postdata" class="headerlink" title="Using wp_reset_postdata()"></a>Using wp_reset_postdata()</h4><p>Use <code>wp_reset_postdata()</code> when you are running custom or multiple loops with <code>WP_Query</code>. </p>
<p>This function restores the global <code>$post</code> variable to the current post in the main query. </p>
<p>To properly use this function, place the following code after any loops with <code>WP_Query</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php wp_reset_postdata(); ?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Using-wp-reset-query"><a href="#Using-wp-reset-query" class="headerlink" title="Using wp_reset_query()"></a>Using wp_reset_query()</h4><p>Using <code>wp_reset_query()</code> restores the <code>WP_Query</code> and global <code>$post</code> data to the original main query.</p>
<p>You <strong>MUST</strong> use this function to reset your loop if you use <code>query_posts()</code> within your loop.</p>
<p>You can use it after custom loops with <a href="https://developer.wordpress.org/reference/classes/wp_query/" target="_blank" rel="noopener">WP_Query</a> because it actually calls <code>wp_reset_postdata()</code>when it runs. However, it’s best practice to use <code>wp_reset_postdata()</code> with any custom loops involving <code>WP_Query</code>.</p>
<blockquote>
<p><code>query_posts()</code> is <strong>not best practice</strong> and should be avoided if at all possible. Therefore, you shouldn’t have much use for <code>wp_reset_query()</code>.</p>
</blockquote>
<p>To properly use this function, place the following code after any loops with <code>query_posts()</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php wp_reset_query(); ?&gt;</span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/wordpress/develop/theme/Basics/05 Template Tags/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/wordpress/develop/theme/Basics/07 Theme Functions/" rel="prev" title="">
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Equal Ma</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">86</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#The-Loop"><span class="nav-number">1.</span> <span class="nav-text">The Loop</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Basic-Loop"><span class="nav-number">1.0.1.</span> <span class="nav-text">The Basic Loop</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Using-The-Loop"><span class="nav-number">1.1.</span> <span class="nav-text">Using The Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-the-Loop-Can-Display"><span class="nav-number">1.2.</span> <span class="nav-text">What the Loop Can Display</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Examples"><span class="nav-number">1.3.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Examples"><span class="nav-number">1.3.1.</span> <span class="nav-text">Basic Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Blog-Archive"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">Blog Archive</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Individual-Post"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">Individual Post</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Intermediate-Examples"><span class="nav-number">1.3.2.</span> <span class="nav-text">Intermediate Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Style-Posts-from-Some-Categories-Differently"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">Style Posts from Some Categories Differently</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Multiple-Loops"><span class="nav-number">1.4.</span> <span class="nav-text">Multiple Loops</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-one-queries-in-multiple-loops"><span class="nav-number">1.4.1.</span> <span class="nav-text">Use one queries in multiple loops</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-secondary-queries-and-loops"><span class="nav-number">1.4.2.</span> <span class="nav-text">Creating secondary queries and loops</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Resetting-multiple-loops"><span class="nav-number">1.4.3.</span> <span class="nav-text">Resetting multiple loops</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-wp-reset-postdata"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">Using wp_reset_postdata()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-wp-reset-query"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">Using wp_reset_query()</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Equal Ma</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
